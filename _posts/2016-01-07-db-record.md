---
layout: post
title:  DBRecord, a library to manage multiple tables "at a time"
date:   2016-01-07 21:07:00 +0200
categories: jekyll
---

[DBRecord](https://github.com/soloproyectos-php/db-record) is a library that allows you to work with multiple tables and their dependencies "at a time"... Better to see it with an example.

Let's say that we have a "main" table called `table0` and three "secondary" tables: `table1`, `table2` and `table3`. In the folliwing example we can access those tables "at a time", respecting their "Referential Integrity":

```php
// the following example updates table0, table1, table2 and table3 at the same time
$t = new DbRecordTable($db, "table0");
$t->update(
  [
    "title" => "My title",
    "created_at" => date("Y-m-d H:i:s"),
    "table1.title" => "Title 1",
    "table2.title" => "Title 2",
    "table3.title" => "Title 3"
  ],
  1
);
```

We can see clearly the "Referential Integrity" relationships:

![image](/assets/db-record1.png)
